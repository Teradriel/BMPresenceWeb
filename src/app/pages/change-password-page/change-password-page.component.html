<div class="change-password-container">
  <!-- Header Section -->
  <div class="header-section">
    <h1 class="page-title">Cambia Password</h1>
    <p class="page-subtitle" *ngIf="!isForced">
      Inserisci la tua password attuale e la nuova password
    </p>
    <p class="page-subtitle warning" *ngIf="isForced">
      ⚠️ Devi cambiare la tua password prima di continuare. Inserisci la
      password temporale che ti è stata assegnata.
    </p>
  </div>

  <!-- Form Section -->
  <div class="form-section">
    <div class="form-container">
      <input
        type="password"
        class="input-field"
        [placeholder]="
          isForced ? 'Password temporale assegnata' : 'Password attuale'
        "
        [(ngModel)]="currentPassword"
        [disabled]="isBusy"
        (keyup.enter)="onChangePassword()"
      />

      <input
        type="password"
        class="input-field"
        placeholder="Nuova password (min 6 caratteri)"
        [(ngModel)]="newPassword"
        [disabled]="isBusy"
        (keyup.enter)="onChangePassword()"
      />

      <input
        type="password"
        class="input-field"
        placeholder="Conferma nuova password"
        [(ngModel)]="confirmPassword"
        [disabled]="isBusy"
        (keyup.enter)="onChangePassword()"
      />

      <p class="error-message" *ngIf="errorMessage">
        {{ errorMessage }}
      </p>

      <button
        class="change-password-button"
        (click)="onChangePassword()"
        [disabled]="isBusy"
      >
        {{ isBusy ? "Cambio in corso..." : "Cambia Password" }}
      </button>

      <button class="cancel-button" (click)="onCancel()" [disabled]="isBusy">
        {{ isForced ? "Esci" : "Annulla" }}
      </button>

      <div class="loading-indicator" *ngIf="isBusy">
        <div class="spinner"></div>
      </div>
    </div>
  </div>
</div>
